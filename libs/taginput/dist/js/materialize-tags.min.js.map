{"version":3,"sources":["materialize-tags.js"],"names":["$","tagClass","item","itemValue","toString","itemText","this","itemTitle","onTagExists","$tag","hide","fadeIn","TagsMaterialize","element","options","itemsArray","$element","objectItems","placeholderText","hasAttribute","attr","inputSize","Math","max","length","$container","$input","appendTo","before","build","on","parents","addClass","removeClass","makeOptionItemFunction","key","propertyName","makeOptionFunction","value","htmlEncode","htmlEncodeContainer","text","html","doGetCaretPosition","oField","iCaretPos","document","selection","focus","oSel","createRange","moveStart","selectionStart","keyCombinationInList","keyPressEvent","lookupList","found","each","index","keyCombination","which","alt","hasOwnProperty","altKey","shift","shiftKey","ctrl","ctrlKey","defaultOptions","freeInput","addOnBlur","maxTags","undefined","maxChars","confirmKeys","trimValue","allowDuplicates","prototype","constructor","add","dontPushVal","self","trim","match","tagName","items","split","i","pushVal","existing","grep","maxInputLength","beforeItemAddEvent","Event","cancel","trigger","push","data","findInputWrapper","after","$existingTag","filter","remove","other","beforeItemRemoveEvent","inArray","splice","removeAll","pop","refresh","contents","nodeType","nodeValue","val","map","extend","typeaheadjs","typeaheadConfig","typeaheadDatasets","isArray","typeahead","proxy","obj","datum","valueKey","event","removeAttr","target","$inputWrapper","prev","next","$prevTag","$nextTag","textLength","ceil","maxLengthReached","substr","preventDefault","closest","destroy","off","removeData","show","input","elt","container","parentNode","fn","materialtags","arg1","arg2","arg3","results","retVal","Constructor","window","jQuery"],"mappings":"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","file":"materialize-tags.min.js","sourcesContent":["(function ($)\n{\n    \"use strict\";\n\n    /**\n     * Default Configuration\n     *\n     * @type {{tagClass: tagClass, itemValue: itemValue, itemText: itemText, itemTitle: itemTitle, freeInput: boolean, addOnBlur: boolean, maxTags: undefined, maxChars: undefined, confirmKeys: number[], onTagExists: onTagExists, trimValue: boolean, allowDuplicates: boolean}}\n     */\n    var defaultOptions = {\n        tagClass        : tagClass,\n        itemValue       : itemValue,\n        itemText        : itemText,\n        itemTitle       : itemTitle,\n        freeInput       : true,\n        addOnBlur       : true,\n        maxTags         : undefined,\n        maxChars        : undefined,\n        confirmKeys     : [13, 44],\n        onTagExists     : onTagExists,\n        trimValue       : true,\n        allowDuplicates : false\n    };\n\n    function tagClass(item)\n    {\n        return 'badge';\n    }\n\n    function itemValue(item)\n    {\n        return item ? item.toString() : item;\n    }\n\n    function itemText(item)\n    {\n        return this.itemValue(item);\n    }\n\n    function itemTitle(item)\n    {\n        return null;\n    }\n\n    function onTagExists(item, $tag)\n    {\n        $tag.hide().fadeIn();\n    }\n\n    /**\n     * Constructor function\n     *\n     * @param element\n     * @param options\n     * @constructor\n     */\n    function TagsMaterialize(element, options)\n    {\n        this.itemsArray = [];\n\n        this.$element = $(element);\n        this.$element.hide();\n\n        //this.isSelect        = (element.tagName === 'SELECT');\n        //this.multiple        = (this.isSelect && element.hasAttribute('multiple'));\n        this.objectItems     = options && options.itemValue;\n        this.placeholderText = element.hasAttribute('placeholder') ? this.$element.attr('placeholder') : '';\n        this.inputSize       = Math.max(1, this.placeholderText.length);\n\n        this.$container = $('<div class=\"materialize-tags\"></div>');\n        this.$input     = $('<input type=\"text\" placeholder=\"' + this.placeholderText + '\"/>').appendTo(this.$container);\n\n        this.$element.before(this.$container);\n\n        this.build(options);\n\n        this.$input.on('focus', function ()\n        {\n            $(this).parents('.materialize-tags').addClass('active');\n        }).on('focusout', function ()\n        {\n            $(this).parents('.materialize-tags').removeClass('active');\n        });\n    }\n\n    TagsMaterialize.prototype = {\n        constructor : TagsMaterialize,\n\n        /**\n         * Adds the given item as a new tag. Pass true to dontPushVal to prevent\n         * updating the elements val()\n         *\n         * @param item\n         * @param dontPushVal\n         * @param options\n         */\n        add : function (item, dontPushVal, options)\n        {\n            var self = this;\n\n            if (self.options.maxTags && self.itemsArray.length >= self.options.maxTags)\n            {\n                return;\n            }\n\n            // Ignore false values, except false\n            if (item !== false && !item)\n            {\n                return;\n            }\n\n            // Trim value\n            if (typeof item === \"string\" && self.options.trimValue)\n            {\n                item = $.trim(item);\n            }\n\n            // Throw an error when trying to add an object while the itemValue option was not set\n            if (typeof item === \"object\" && !self.objectItems)\n            {\n                throw(\"Can't add objects when itemValue option is not set\");\n            }\n\n            // Ignore strings only contain whitespace\n            if (item.toString().match(/^\\s*$/))\n            {\n                return;\n            }\n\n            // If SELECT but not multiple, remove current tag\n            /*if (self.isSelect && !self.multiple && self.itemsArray.length > 0)\n            {\n                self.remove(self.itemsArray[0]);\n            }*/\n\n            if (typeof item === \"string\" && this.$element[0].tagName === 'INPUT')\n            {\n                var items = item.split(',');\n                if (items.length > 1)\n                {\n                    for (var i = 0; i < items.length; i++)\n                    {\n                        this.add(items[i], true);\n                    }\n\n                    if (!dontPushVal)\n                    {\n                        self.pushVal();\n                    }\n                    return;\n                }\n            }\n\n            var itemValue = self.options.itemValue(item),\n                itemText  = self.options.itemText(item),\n                tagClass  = self.options.tagClass(item),\n                itemTitle = self.options.itemTitle(item);\n\n            // Ignore items all ready added\n            var existing = $.grep(self.itemsArray, function (item) { return self.options.itemValue(item) === itemValue; })[0];\n            if (existing && !self.options.allowDuplicates)\n            {\n                // Invoke onTagExists\n                if (self.options.onTagExists)\n                {\n                    var $existingTag = $(\".tag\", self.$container).filter(function () { return $(this).data(\"item\") === existing; });\n                    self.options.onTagExists(item, $existingTag);\n                }\n                return;\n            }\n\n            // if length greater than limit\n            if (self.items().toString().length + item.length + 1 > self.options.maxInputLength)\n            {\n                return;\n            }\n\n            // raise beforeItemAdd arg\n            var beforeItemAddEvent = $.Event('beforeItemAdd', {item : item, cancel : false, options : options});\n            self.$element.trigger(beforeItemAddEvent);\n            if (beforeItemAddEvent.cancel)\n            {\n                return;\n            }\n\n            // register item in internal array and map\n            self.itemsArray.push(item);\n\n            // add a tag element\n            var $tag = $('<span class=\"tag ' + htmlEncode(tagClass) + (itemTitle !== null ? ('\" title=\"' + itemTitle) : '') + '\">' + htmlEncode(itemText) + '<span class=\"mdi-content-clear right\" data-role=\"remove\"></span></span>');\n            $tag.data('item', item);\n            self.findInputWrapper().before($tag);\n            $tag.after(' ');\n\n            // add <option /> if item represents a value not present in one of the <select />'s options\n            /*if (self.isSelect && !$('option[value=\"' + encodeURIComponent(itemValue) + '\"]', self.$element)[0])\n            {\n                var $option = $('<option selected>' + htmlEncode(itemText) + '</option>');\n                $option.data('item', item);\n                $option.attr('value', itemValue);\n                self.$element.append($option);\n            }*/\n\n            if (!dontPushVal)\n            {\n                self.pushVal();\n            }\n\n            // Add class when reached maxTags\n            if (self.options.maxTags === self.itemsArray.length || self.items().toString().length === self.options.maxInputLength)\n            {\n                self.$container.addClass('materialize-tags-max');\n            }\n\n            self.$element.trigger($.Event('itemAdded', {item : item, options : options}));\n        },\n\n        /**\n         * Removes the given item. Pass true to dontPushVal to prevent updating the\n         * elements val()\n         *\n         * @param item\n         * @param dontPushVal\n         * @param options\n         */\n        remove : function (item, dontPushVal, options)\n        {\n            var self = this;\n\n            if (self.objectItems)\n            {\n                if (typeof item === \"object\")\n                {\n                    item = $.grep(self.itemsArray, function (other) { return self.options.itemValue(other) == self.options.itemValue(item); });\n                }\n                else\n                {\n                    item = $.grep(self.itemsArray, function (other) { return self.options.itemValue(other) == item; });\n                }\n\n                item = item[item.length - 1];\n            }\n\n            if (item)\n            {\n                var beforeItemRemoveEvent = $.Event('beforeItemRemove', {\n                    item    : item,\n                    cancel  : false,\n                    options : options\n                });\n                self.$element.trigger(beforeItemRemoveEvent);\n                if (beforeItemRemoveEvent.cancel)\n                {\n                    return;\n                }\n\n                $('.tag', self.$container).filter(function () { return $(this).data('item') === item; }).remove();\n                /*$('option', self.$element).filter(function () { return $(this).data('item') === item; }).remove();*/\n                if ($.inArray(item, self.itemsArray) !== -1)\n                {\n                    self.itemsArray.splice($.inArray(item, self.itemsArray), 1);\n                }\n            }\n\n            if (!dontPushVal)\n            {\n                self.pushVal();\n            }\n\n            // Remove class when reached maxTags\n            if (self.options.maxTags > self.itemsArray.length)\n            {\n                self.$container.removeClass('materialize-tags-max');\n            }\n\n            self.$element.trigger($.Event('itemRemoved', {item : item, options : options}));\n        },\n\n        /**\n         * Removes all items\n         */\n        removeAll : function ()\n        {\n            var self = this;\n\n            $('.tag', self.$container).remove();\n            /*$('option', self.$element).remove();*/\n\n            while (self.itemsArray.length > 0)\n            {\n                self.itemsArray.pop();\n            }\n\n            self.pushVal();\n        },\n\n        /**\n         * Refreshes the tags so they match the text/value of their corresponding\n         * item.\n         */\n        refresh : function ()\n        {\n            var self = this;\n            $('.tag', self.$container).each(function ()\n            {\n                var $tag        = $(this),\n                    item        = $tag.data('item'),\n                    itemValue   = self.options.itemValue(item),\n                    itemText    = self.options.itemText(item),\n                    tagClass    = self.options.tagClass(item);\n\n                // Update tag's class and inner text\n                $tag.attr('class', null);\n                $tag.addClass('tag ' + htmlEncode(tagClass));\n                $tag.contents().filter(function ()\n                {\n                    return this.nodeType == 3;\n                })[0].nodeValue = htmlEncode(itemText);\n\n                /*if (self.isSelect)\n                {\n                    var option = $('option', self.$element).filter(function () { return $(this).data('item') === item; });\n                    option.attr('value', itemValue);\n                }*/\n            });\n        },\n\n        /**\n         * Returns the items added as tags\n         */\n        items : function ()\n        {\n            return this.itemsArray;\n        },\n\n        /**\n         * Assembly value by retrieving the value of each item, and set it on the\n         * element.\n         */\n        pushVal : function ()\n        {\n            var self = this,\n                val  = $.map(self.items(), function (item)\n                {\n                    return self.options.itemValue(item).toString();\n                });\n\n            self.$element.val(val, true).trigger('change');\n        },\n\n        /**\n         * Initializes the tags input behaviour on the element\n         *\n         * @param options\n         */\n        build : function (options)\n        {\n            var self = this;\n\n            self.options = $.extend({}, defaultOptions, options);\n            // When itemValue is set, freeInput should always be false\n            if (self.objectItems)\n            {\n                self.options.freeInput = false;\n            }\n\n            makeOptionItemFunction(self.options, 'itemValue');\n            makeOptionItemFunction(self.options, 'itemText');\n            makeOptionFunction(self.options, 'tagClass');\n\n            /*// Typeahead Bootstrap version 2.3.2\n            if (self.options.typeahead)\n            {\n                var typeahead = self.options.typeahead || {};\n\n                makeOptionFunction(typeahead, 'source');\n\n                self.$input.typeahead($.extend({}, typeahead, {\n                    source      : function (query, process)\n                    {\n                        function processItems(items)\n                        {\n                            var texts = [];\n\n                            for (var i = 0; i < items.length; i++)\n                            {\n                                var text  = self.options.itemText(items[i]);\n                                map[text] = items[i];\n                                texts.push(text);\n                            }\n                            process(texts);\n                        }\n\n                        this.map = {};\n                        var map  = this.map,\n                            data = typeahead.source(query);\n\n                        if ($.isFunction(data.success))\n                        {\n                            // support for Angular callbacks\n                            data.success(processItems);\n                        }\n                        else if ($.isFunction(data.then))\n                        {\n                            // support for Angular promises\n                            data.then(processItems);\n                        }\n                        else\n                        {\n                            // support for functions and jquery promises\n                            $.when(data)\n                                .then(processItems);\n                        }\n                    },\n                    updater     : function (text)\n                    {\n                        self.add(this.map[text]);\n                        return this.map[text];\n                    },\n                    matcher     : function (text)\n                    {\n                        return (text.toLowerCase().indexOf(this.query.trim().toLowerCase()) !== -1);\n                    },\n                    sorter      : function (texts)\n                    {\n                        return texts.sort();\n                    },\n                    highlighter : function (text)\n                    {\n                        var regex = new RegExp('(' + this.query + ')', 'gi');\n                        return text.replace(regex, \"<strong>$1</strong>\");\n                    }\n                }));\n            }*/\n\n            // Typeahead.js\n            if (self.options.typeaheadjs)\n            {\n                var typeaheadConfig   = null;\n                var typeaheadDatasets = {};\n\n                // Determine if main configurations were passed or simply a dataset\n                var typeaheadjs = self.options.typeaheadjs;\n                if ($.isArray(typeaheadjs))\n                {\n                    typeaheadConfig   = typeaheadjs[0];\n                    typeaheadDatasets = typeaheadjs[1];\n                }\n                else\n                {\n                    typeaheadDatasets = typeaheadjs;\n                }\n\n                self.$input.typeahead(typeaheadConfig, typeaheadDatasets).on('typeahead:selected', $.proxy(function (obj, datum)\n                {\n                    if (typeaheadDatasets.valueKey)\n                    {\n                        self.add(datum[typeaheadDatasets.valueKey]);\n                    }\n                    else\n                    {\n                        self.add(datum);\n                    }\n                    self.$input.typeahead('val', '');\n                }, self));\n            }\n\n            self.$container.on('click', $.proxy(function (event)\n            {\n                if (!self.$element.attr('disabled'))\n                {\n                    self.$input.removeAttr('disabled');\n                }\n                self.$input.focus();\n            }, self));\n\n            if (self.options.addOnBlur && self.options.freeInput)\n            {\n                self.$input.on('focusout', $.proxy(function (event)\n                {\n                    // HACK: only process on focusout when no typeahead opened, to\n                    //       avoid adding the typeahead text as tag\n                    if ($('.typeahead, .twitter-typeahead', self.$container).length === 0)\n                    {\n                        self.add(self.$input.val());\n                        self.$input.val('');\n                    }\n                }, self));\n            }\n\n            self.$container.on('keydown', 'input', $.proxy(function (event)\n            {\n                var $input        = $(event.target),\n                    $inputWrapper = self.findInputWrapper();\n\n                if (self.$element.attr('disabled'))\n                {\n                    self.$input.attr('disabled', 'disabled');\n                    return;\n                }\n\n                switch (event.which)\n                {\n                    // BACKSPACE\n                    case 8:\n                        if (doGetCaretPosition($input[0]) === 0)\n                        {\n                            var prev = $inputWrapper.prev();\n                            if (prev)\n                            {\n                                self.remove(prev.data('item'));\n                            }\n                        }\n                        break;\n\n                    // DELETE\n                    case 46:\n                        if (doGetCaretPosition($input[0]) === 0)\n                        {\n                            var next = $inputWrapper.next();\n                            if (next)\n                            {\n                                self.remove(next.data('item'));\n                            }\n                        }\n                        break;\n\n                    // LEFT ARROW\n                    case 37:\n                        // Try to move the input before the previous tag\n                        var $prevTag = $inputWrapper.prev();\n                        if ($input.val().length === 0 && $prevTag[0])\n                        {\n                            $prevTag.before($inputWrapper);\n                            $input.focus();\n                        }\n                        break;\n                    // RIGHT ARROW\n                    case 39:\n                        // Try to move the input after the next tag\n                        var $nextTag = $inputWrapper.next();\n                        if ($input.val().length === 0 && $nextTag[0])\n                        {\n                            $nextTag.after($inputWrapper);\n                            $input.focus();\n                        }\n                        break;\n                    default:\n                    // ignore\n                }\n\n                // Reset internal input's size\n                var textLength = $input.val().length,\n                    wordSpace  = Math.ceil(textLength / 5),\n                    size       = textLength + wordSpace + 1;\n                $input.attr('size', Math.max(this.inputSize, $input.val().length));\n            }, self));\n\n            self.$container.on('keypress', 'input', $.proxy(function (event)\n            {\n                var $input = $(event.target);\n\n                if (self.$element.attr('disabled'))\n                {\n                    self.$input.attr('disabled', 'disabled');\n                    return;\n                }\n\n                var text             = $input.val(),\n                    maxLengthReached = self.options.maxChars && text.length >= self.options.maxChars;\n                if (self.options.freeInput && (keyCombinationInList(event, self.options.confirmKeys) || maxLengthReached))\n                {\n                    self.add(maxLengthReached ? text.substr(0, self.options.maxChars) : text);\n                    $input.val('');\n                    event.preventDefault();\n                }\n\n                // Reset internal input's size\n                var textLength = $input.val().length,\n                    wordSpace  = Math.ceil(textLength / 5),\n                    size       = textLength + wordSpace + 1;\n                $input.attr('size', Math.max(this.inputSize, $input.val().length));\n            }, self));\n\n            // Remove icon clicked\n            self.$container.on('click', '[data-role=remove]', $.proxy(function (event)\n            {\n                if (self.$element.attr('disabled'))\n                {\n                    return;\n                }\n                self.remove($(event.target).closest('.tag').data('item'));\n            }, self));\n\n            // Only add existing value as tags when using strings as tags\n            if (self.options.itemValue === defaultOptions.itemValue)\n            {\n                if (self.$element[0].tagName === 'INPUT')\n                {\n                    self.add(self.$element.val());\n                }\n                /*else\n                {\n                    $('option', self.$element).each(function ()\n                    {\n                        self.add($(this).attr('value'), true);\n                    });\n                }*/\n            }\n        },\n\n        /**\n         * Removes all materialtags behaviour and unregsiter all event handlers\n         */\n        destroy : function ()\n        {\n            var self = this;\n\n            // Unbind events\n            self.$container.off('keypress', 'input');\n            self.$container.off('click', '[role=remove]');\n\n            self.$container.remove();\n            self.$element.removeData('materialtags');\n            self.$element.show();\n        },\n\n        /**\n         * Sets focus on the materialtags\n         */\n        focus : function ()\n        {\n            this.$input.focus();\n        },\n\n        /**\n         * Returns the internal input element\n         */\n        input : function ()\n        {\n            return this.$input;\n        },\n\n        /**\n         * Returns the element which is wrapped around the internal input. This\n         * is normally the $container, but typeahead.js moves the $input element.\n         */\n        findInputWrapper : function ()\n        {\n            var elt       = this.$input[0],\n                container = this.$container[0];\n            while (elt && elt.parentNode !== container)\n            {\n                elt = elt.parentNode;\n            }\n\n            return $(elt);\n        }\n    };\n\n    /**\n     * Register JQuery plugin\n     *\n     * @param arg1\n     * @param arg2\n     * @param arg3\n     * @returns {Array}\n     */\n    $.fn.materialtags = function (arg1, arg2, arg3)\n    {\n        var results = [];\n\n        this.each(function ()\n        {\n            var materialtags = $(this).data('materialtags');\n            // Initialize a new material tags input\n            if (!materialtags)\n            {\n                materialtags = new TagsMaterialize(this, arg1);\n                $(this).data('materialtags', materialtags);\n                results.push(materialtags);\n\n                /*if (this.tagName === 'SELECT')\n                {\n                    $('option', $(this)).attr('selected', 'selected');\n                }*/\n\n                // Init tags from $(this).val()\n                $(this).val($(this).val());\n            }\n            else if (!arg1 && !arg2)\n            {\n                // materialtags already exists\n                // no function, trying to init\n                results.push(materialtags);\n            }\n            else if (materialtags[arg1] !== undefined)\n            {\n                // Invoke function on existing tags input\n                if (materialtags[arg1].length === 3 && arg3 !== undefined)\n                {\n                    var retVal = materialtags[arg1](arg2, null, arg3);\n                }\n                else\n                {\n                    var retVal = materialtags[arg1](arg2);\n                }\n                if (retVal !== undefined)\n                {\n                    results.push(retVal);\n                }\n            }\n        });\n\n        if (typeof arg1 == 'string')\n        {\n            // Return the results from the invoked function calls\n            return results.length > 1 ? results : results[0];\n        }\n        else\n        {\n            return results;\n        }\n    };\n\n    $.fn.materialtags.Constructor = TagsMaterialize;\n\n    /**\n     * Most options support both a string or number as well as a function as\n     * option value. This function makes sure that the option with the given\n     * key in the given options is wrapped in a function\n     *\n     * @param options\n     * @param key\n     */\n    function makeOptionItemFunction(options, key)\n    {\n        if (typeof options[key] !== 'function')\n        {\n            var propertyName = options[key];\n            options[key]     = function (item) { return item[propertyName]; };\n        }\n    }\n\n    function makeOptionFunction(options, key)\n    {\n        if (typeof options[key] !== 'function')\n        {\n            var value    = options[key];\n            options[key] = function () { return value; };\n        }\n    }\n\n    /**\n     * HtmlEncodes the given value\n     */\n    var htmlEncodeContainer = $('<div />');\n\n    function htmlEncode(value)\n    {\n        if (value)\n        {\n            return htmlEncodeContainer.text(value).html();\n        }\n        else\n        {\n            return '';\n        }\n    }\n\n    /**\n     * Returns the position of the caret in the given input field\n     * http://flightschool.acylt.com/devnotes/caret-position-woes/\n     *\n     * @param oField\n     * @returns {number}\n     */\n    function doGetCaretPosition(oField)\n    {\n        var iCaretPos = 0;\n        if (document.selection)\n        {\n            oField.focus();\n            var oSel  = document.selection.createRange();\n            oSel.moveStart('character', -oField.value.length);\n            iCaretPos = oSel.text.length;\n        }\n        else if (oField.selectionStart || oField.selectionStart == '0')\n        {\n            iCaretPos = oField.selectionStart;\n        }\n        return (iCaretPos);\n    }\n\n    /**\n     * Returns boolean indicates whether user has pressed an expected key combination.\n     * http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\n     * [13, {which: 188, shiftKey: true}]\n     *\n     * @param keyPressEvent\n     * @param lookupList\n     * @returns {boolean}\n     */\n    function keyCombinationInList(keyPressEvent, lookupList)\n    {\n        var found = false;\n        $.each(lookupList, function (index, keyCombination)\n        {\n            if (typeof (keyCombination) === 'number' && keyPressEvent.which === keyCombination)\n            {\n                found = true;\n                return false;\n            }\n\n            if (keyPressEvent.which === keyCombination.which)\n            {\n                var alt   = !keyCombination.hasOwnProperty('altKey') || keyPressEvent.altKey === keyCombination.altKey,\n                    shift = !keyCombination.hasOwnProperty('shiftKey') || keyPressEvent.shiftKey === keyCombination.shiftKey,\n                    ctrl  = !keyCombination.hasOwnProperty('ctrlKey') || keyPressEvent.ctrlKey === keyCombination.ctrlKey;\n                if (alt && shift && ctrl)\n                {\n                    found = true;\n                    return false;\n                }\n            }\n        });\n\n        return found;\n    }\n\n    /**\n     * Initialize materialtags behaviour on inputs which have\n     * data-role=materialtags\n     */\n    $(function ()\n    {\n        $(\"input[data-role=materialtags]\").materialtags();\n    });\n})(window.jQuery);\n"],"sourceRoot":"/source/"}